---
---

<section id="about-section" class="relative bg-deep-black overflow-hidden">
  <!-- The actual animated content -->
  <div id="about-content-wrapper" class="h-screen w-full flex items-center justify-center relative overflow-hidden">
    
    <!-- Expanding Image Container -->
    <div class="about-visual absolute inset-0 z-0 flex items-center justify-center">
        <div class="about-image-mask w-full h-full overflow-hidden flex items-center justify-center" style="clip-path: circle(20% at 50% 50%);">
            <img 
              src="https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?q=80&w=2070&auto=format&fit=crop" 
              alt="Frontend Developer Workspace" 
              class="about-img w-full h-full object-cover scale-150"
            />
        </div>
        <!-- Darkening Overlay -->
        <div class="about-overlay absolute inset-0 bg-black/70 opacity-0 pointer-events-none"></div>
    </div>

    <!-- Content that follows the mask -->
    <div class="about-text-content absolute inset-0 z-10 flex flex-col items-center justify-center text-center px-6 opacity-0 translate-y-10 pointer-events-none">
      <div class="max-w-5xl w-full space-y-8 md:space-y-12">
        <h2 class="text-4xl md:text-7xl lg:text-8xl font-black leading-[1.15] text-white uppercase">
          <div class="overflow-hidden">
               <span class="block translate-y-full about-text-line">IMPULSANDO LA</span>
          </div>
          <div class="overflow-hidden">
              <span class="block translate-y-full about-text-line text-lime italic">INNOVACIÓN VISUAL</span>
          </div>
        </h2>
        
        <p class="text-white/90 text-lg md:text-xl lg:text-2xl leading-relaxed font-light drop-shadow-2xl about-text-p opacity-0 max-w-3xl mx-auto">
          Diseñamos el futuro digital a través de <br class="hidden md:block"/> experiencias fluidas y estéticas disruptivas.
        </p>

        <div class="flex justify-center opacity-0 about-text-btn">
          <a 
            href="/portfolio"
            class="inline-flex items-center gap-6 text-lime font-bold group cursor-pointer bg-white/5 backdrop-blur-2xl px-8 py-4 md:px-10 md:py-5 rounded-full border border-lime/30 hover:bg-lime hover:text-deep-black transition-all"
          >
            <span class="text-base md:text-lg uppercase tracking-[0.2em]">VER PROYECTOS</span>
            <svg class="w-6 h-6 transform group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener('DOMContentLoaded', () => {
    const section = document.querySelector('#about-section');
    const mask = document.querySelector('.about-image-mask');
    const image = document.querySelector('.about-img');
    const overlay = document.querySelector('.about-overlay');
    const content = document.querySelector('.about-text-content');
    const textLines = document.querySelectorAll('.about-text-line');
    const p = document.querySelector('.about-text-p');
    const btn = document.querySelector('.about-text-btn');

    if (section && mask && image) {
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: '#about-section',
          start: 'top top',
          end: '+=250%', 
          scrub: 1,
          pin: true,
          anticipatePin: 1,
        }
      });

      // 1. Zoom mask
      tl.to(mask, {
        clipPath: 'circle(120% at 50% 50%)',
        ease: 'none',
        duration: 2,
      });

      // 2. Parallax zoom
      tl.to(image, {
        scale: 1.1, // Less zoom for better image quality
        ease: 'none',
        duration: 2,
      }, 0);

      // 3. Darken
      tl.to(overlay, {
        opacity: 1,
        ease: 'power1.inOut',
        duration: 1,
      }, 1);

      // 4. Reveal Content
      tl.to(content, {
        opacity: 1,
        pointerEvents: 'auto',
        y: 0,
        duration: 0.1
      }, 1.1);

      tl.to(textLines, {
        y: 0,
        stagger: 0.1,
        duration: 0.6,
        ease: 'power4.out'
      }, 1.2);

      tl.to(p, {
        opacity: 1,
        duration: 0.4,
      }, 1.5);

      tl.to(btn, {
        opacity: 1,
        duration: 0.4,
      }, 1.7);

      tl.to({}, { duration: 0.8 }); 
    }
  });
</script>

<style>
  #about-section {
    z-index: 5;
  }
</style>
