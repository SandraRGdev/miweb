---
import Layout from '../layouts/Layout.astro';
import Nav from '../components/Nav.astro';
import PricingCard from '../components/PricingCard.astro';

const plans = [
  { 
    name: 'Básico', 
    price: '499', 
    billing: 'Proyecto', 
    features: ['Landing page única', 'Diseño responsive', 'Optimización SEO', '1 Revisión', 'Soporte 7 días'] 
  },
  { 
    name: 'Profesional', 
    price: '1.299', 
    billing: 'Proyecto', 
    highlighted: true,
    features: ['Hasta 5 páginas', 'Animaciones básicas GSAP', 'Formulario contacto', '3 Revisiones', 'Soporte 30 días'] 
  },
  { 
    name: 'Premium', 
    price: '2.499', 
    billing: 'Proyecto', 
    features: ['Sitio completo headless', 'Animaciones avanzadas', 'Panel de gestión', 'Revisiones ilimitadas', 'Mantenimiento Premium'] 
  },
];
---

<Layout title="Planes & Precios | codev">
	<Nav />
	
	<main class="pt-32 pb-20 px-4 min-h-screen flex flex-col">
		<header class="max-w-4xl mx-auto text-center space-y-8 mb-20 pricing-header opacity-0 translate-y-20">
			<h1 class="text-6xl md:text-8xl font-black tracking-tighter uppercase leading-none">
				DESCUBRE <br/><span class="text-lime italic">TU PLAN</span>
			</h1>
			
			<p class="text-white/60 text-lg md:text-xl max-w-2xl mx-auto">
				Soluciones escalables diseñadas para impactar. Elige el nivel de personalización que tu proyecto necesita.
			</p>
      
      <!-- Billing Toggle Placeholder (Visual only for now) -->
      <div class="flex items-center justify-center gap-4 pt-4">
        <span class="text-white font-bold">Pago Único</span>
        <div class="w-16 h-8 bg-forest/40 rounded-full border border-lime/30 p-1 flex items-center cursor-pointer transition-colors hover:border-lime">
          <div class="w-6 h-6 bg-lime rounded-full shadow-lg"></div>
        </div>
        <span class="text-white/40 font-bold">Suscripción</span>
      </div>
		</header>

		<section class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 items-center pb-20">
			{plans.map((plan, index) => (
				<div class="pricing-card-container opacity-0 translate-y-20">
          <PricingCard {...plan} />
        </div>
			))}
		</section>
	</main>

  <script>
    import { gsap } from 'gsap';
    import { ScrollTrigger } from 'gsap/ScrollTrigger';

    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener('DOMContentLoaded', () => {
      gsap.to('.pricing-header', {
        opacity: 1,
        y: 0,
        duration: 1.2,
        ease: 'power4.out'
      });

      gsap.to('.pricing-card-container', {
        opacity: 1,
        y: 0,
        duration: 1,
        stagger: 0.2,
        ease: 'power3.out',
        scrollTrigger: {
          trigger: '.pricing-card-container',
          start: 'top 85%',
        }
      });
    });
  </script>
</Layout>
